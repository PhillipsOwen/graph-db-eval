//match (a) return a.* limit 2;
//match (a) return count(a);
//match ()-[e]-() return count(e);
//match (a:Node)--(b) return * limit 1;
//match (a) detach delete a;

to create the DB on a k8s pod
-----------------------------------------
use the fastapi pod
cd to /omnicorp/graph-eval
remove old DB (if exists and with an owner other than 1000)

// create the Kuzu DB tables (2 created)
python kuzu_build_graph_csv.py --node-infile=rk-nodes.tab-hdr.temp_csv --edge-infile=rk-edges.tab-hdr.temp_csv --data-dir=/omnicorp/graph-eval --outfile=rk-kuzu-db --type=tables
Notes:
  on 6/4/2025 the "description" column type was changed from STRING[] to STRING in the rk-edges.tab-hdr.temp_csv file.
  on 6/5/2025 the "complex_context" column type was changed from STRING[] to STRING in the rk-edges.tab-hdr.temp_csv file.
  on 6/5/2025 node column "category" renamed to labels
  on 6/5/2025 edge column "predicate" renamed to label

// convert the MemGraph RK csv files into the Kuzu compliant equivalent. Creates rk-nodes-ptconv*.csv and rk-edges-ptconv*.csv files.
python kuzu_build_graph_csv.py --node-infile=rk-nodes-pt --edge-infile=rk-edges-pt --data-dir=/omnicorp/graph-eval --outfile=rk-kuzu-db --type=convert

// parse/load the CSV files
python kuzu_build_graph_csv.py --node-infile=rk-nodes-ptconv --edge-infile=rk-edges-ptconv --data-dir=/omnicorp/graph-eval --outfile=rk-kuzu-db --type=data

using the compute cluster to load the data
------------------------------------------
Note: in the end this did not work due to odd memory errors on the cluster when loading.

installing the kuzu package

conda create -n kuzu_build -c conda-forge \
  python=3.10 \
  cmake \
  make \
  pip \
  gcc_linux-64=13 \
  gxx_linux-64=13
conda activate kuzu_build
pip install kuzu

creating the DB with the compute cluster
-----------------------------------------
install python module if not already: module add python/3.10.0
make sure this session stays active: screen
create if not already/activate conda environment: conda activate
create if not already/activate python venv: source ./venv-3.10/bin/activate

go to the kuzu data directory: cd /projects/omnicorp/graph-eval/
create the DB: python kuzu_build_graph_csv.py --node-infile=rk-nodes.tab-hdr.temp_csv --edge-infile=rk-edges.tab-hdr.temp_csv --data-dir=/projects/omnicorp/graph-eval --outfile=rk-kuzu-db --type=tables
load the DB: python kuzu_build_graph_csv.py --node-infile=rk-nodes-pt --edge-infile=rk-edges-pt --data-dir=/projects/omnicorp/graph-eval --outfile=rk-kuzu-db --type=data
 - before load verify the loop range of what files to parse
